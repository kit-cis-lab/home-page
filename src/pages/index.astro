---
import { getCollection } from "astro:content";
import BaseLayout from "../layouts/BaseLayout.astro";
import LabPhotoCarousel from "./index/components/LabPhotoCarousel.astro";
import NewsList from "./news/components/NewsList.astro";

const allNews = await getCollection("news");

const latestNews = allNews
  .sort((a, b) => {
    return b.data.date.getTime() - a.data.date.getTime();
  })
  .slice(0, 10);
---

<BaseLayout pageTitle="トップページ">
  <div class="max-w-5xl mx-auto px-4">
    <p class="mb-5 sm:text-lg">
      京都工芸繊維大学 情報知能システム研究室のウェブサイトです。<br />
      知能システム、特に人工知能の最先端である
      <span class="font-bold text-blue-700"> 計算知能 </span>
      と
      <span class="font-bold text-blue-700"> 機械学習 </span>
      を研究しています。
    </p>

    <h1 class="font-semibold text-xl pl-2 border-b-2 border-l-8 border-solid border-black mb-6">
      研究室の様子
    </h1>

    <LabPhotoCarousel />

    <h1 class="font-semibold text-xl pl-2 border-b-2 border-l-8 border-solid border-black mb-3">
      NEWS
    </h1>

    <NewsList news={latestNews} />

    <div class="text-center mt-8">
      <a
        href="/news/1"
        class="inline-block px-6 py-2 bg-gray-700 text-white rounded hover:bg-gray-500 transition-colors"
      >
        もっとみる
      </a>
    </div>
  </div>
</BaseLayout>

---
const { page } = Astro.props; // pageオブジェクトを受け取ります
---

<nav class="flex justify-center items-center space-x-2 mt-10 text-lg">
  <!-- 前のページへ (リンクが存在する場合のみ表示) -->
  {
    page.url.prev && (
      <a
        href={page.url.prev}
        class="px-4 py-2 rounded-lg border bg-white text-gray-700 hover:bg-gray-100 transition-colors"
      >
        &laquo;
      </a>
    )
  }

  <!-- ページ番号 -->
  {
    Array.from({ length: page.totalPages }, (_, i) => {
      const pageNum = i + 1;
      const isActive = pageNum === page.currentPage;
      // 1ページ目は/news/、2ページ目以降は/news/2/のようにURLを生成
      const href = pageNum === 1 ? "/news/" : `/news/${pageNum}/`;

      return (
        <a
          href={href}
          class:list={[
            "px-4 py-2 rounded-lg border",
            { "bg-gray-800 text-white border-gray-800": isActive },
            { "bg-white text-gray-700 hover:bg-gray-100": !isActive },
          ]}
        >
          {pageNum}
        </a>
      );
    })
  }

  <!-- 次のページへ (リンクが存在する場合のみ表示) -->
  {
    page.url.next && (
      <a
        href={page.url.next}
        class="px-4 py-2 rounded-lg border bg-white text-gray-700 hover:bg-gray-100 transition-colors"
      >
        &raquo;
      </a>
    )
  }
</nav>
